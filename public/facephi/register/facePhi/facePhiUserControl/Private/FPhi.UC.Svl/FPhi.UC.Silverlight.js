window.Silverlight||(window.Silverlight={}),Silverlight._silverlightCount=0,Silverlight.__onSilverlightInstalledCalled=!1,Silverlight.fwlinkRoot="http://go2.microsoft.com/fwlink/?LinkID=",Silverlight.__installationEventFired=!1,Silverlight.onGetSilverlight=null,Silverlight.onSilverlightInstalled=function(){window.location.reload(!1)},Silverlight.isInstalled=function(a){a==void 0&&(a=null);var b=!1;try{var c=!1;try{var d=navigator.plugins["Silverlight Plug-In"];if(!d)c=!0;else if(null===a)b=!0;else{var e=d.description;"1.0.30226.2"===e&&(e="2.0.30226.2");for(var f=e.split(".");3<f.length;)f.pop();for(;4>f.length;)f.push(0);for(var g=a.split(".");4<g.length;)g.pop();var h,i,j=0;do h=parseInt(g[j]),i=parseInt(f[j]),j++;while(j<g.length&&h===i);h<=i&&!isNaN(h)&&(b=!0)}}catch(a){c=!0}if(c){var k=new ActiveXObject("AgControl.AgControl");null===a?b=!0:k.IsVersionSupported(a)&&(b=!0),k=null}}catch(a){b=!1}return b},Silverlight.WaitForInstallCompletion=function(){if(!Silverlight.isBrowserRestartRequired&&Silverlight.onSilverlightInstalled){try{navigator.plugins.refresh()}catch(a){}Silverlight.isInstalled(null)&&!Silverlight.__onSilverlightInstalledCalled?(Silverlight.onSilverlightInstalled(),Silverlight.__onSilverlightInstalledCalled=!0):setTimeout(Silverlight.WaitForInstallCompletion,3e3)}},Silverlight.__startup=function(){if(navigator.plugins.refresh(),Silverlight.isBrowserRestartRequired=Silverlight.isInstalled(null),!Silverlight.isBrowserRestartRequired)Silverlight.WaitForInstallCompletion(),Silverlight.__installationEventFired||(Silverlight.onInstallRequired(),Silverlight.__installationEventFired=!0);else if(window.navigator.mimeTypes){var a=navigator.mimeTypes["application/x-silverlight-2"],b=navigator.mimeTypes["application/x-silverlight-2-b2"],c=navigator.mimeTypes["application/x-silverlight-2-b1"],d=c;b&&(d=b),!a&&(c||b)?!Silverlight.__installationEventFired&&(Silverlight.onUpgradeRequired(),Silverlight.__installationEventFired=!0):a&&d&&a.enabledPlugin&&d.enabledPlugin&&a.enabledPlugin.description!=d.enabledPlugin.description&&!Silverlight.__installationEventFired&&(Silverlight.onRestartRequired(),Silverlight.__installationEventFired=!0)}Silverlight.disableAutoStartup||(window.removeEventListener?window.removeEventListener("load",Silverlight.__startup,!1):window.detachEvent("onload",Silverlight.__startup))},Silverlight.disableAutoStartup||(window.addEventListener?window.addEventListener("load",Silverlight.__startup,!1):window.attachEvent("onload",Silverlight.__startup)),Silverlight.createObject=function(a,b,c,d,e,f,g){var h={},i=d,j=e;if(h.version=i.version,i.source=a,h.alt=i.alt,f&&(i.initParams=f),i.isWindowless&&!i.windowless&&(i.windowless=i.isWindowless),i.framerate&&!i.maxFramerate&&(i.maxFramerate=i.framerate),c&&!i.id&&(i.id=c),delete i.ignoreBrowserVer,delete i.inplaceInstallPrompt,delete i.version,delete i.isWindowless,delete i.framerate,delete i.data,delete i.src,delete i.alt,Silverlight.isInstalled(h.version)){for(var k in j)if(j[k]){if("onLoad"==k&&"function"==typeof j[k]&&1!=j[k].length){var l=j[k];j[k]=function(a){return l(document.getElementById(c),g,a)}}var m=Silverlight.__getHandlerName(j[k]);if(null!=m)i[k]=m,j[k]=null;else throw"typeof events."+k+" must be 'function' or 'string'"}slPluginHTML=Silverlight.buildHTML(i)}else slPluginHTML=Silverlight.buildPromptHTML(h);return b?void(b.innerHTML=slPluginHTML):slPluginHTML},Silverlight.buildHTML=function(a){var b=[];for(var c in b.push("<object type=\"application/x-silverlight\" data=\"data:application/x-silverlight,\""),null!=a.id&&b.push(" id=\""+Silverlight.HtmlAttributeEncode(a.id)+"\""),null!=a.width&&b.push(" width=\""+a.width+"\""),null!=a.height&&b.push(" height=\""+a.height+"\""),b.push(" >"),delete a.id,delete a.width,delete a.height,a)a[c]&&b.push("<param name=\""+Silverlight.HtmlAttributeEncode(c)+"\" value=\""+Silverlight.HtmlAttributeEncode(a[c])+"\" />");return b.push("</object>"),b.join("")},Silverlight.createObjectEx=function(a){var b=a,c=Silverlight.createObject(b.source,b.parentElement,b.id,b.properties,b.events,b.initParams,b.context);if(null==b.parentElement)return c},Silverlight.buildPromptHTML=function(a){var b="",c=Silverlight.fwlinkRoot,d=a.version;return a.alt?b=a.alt:(!d&&(d=""),b="<a href='javascript:Silverlight.getSilverlight(\"{1}\");' style='text-decoration: none;'><img src='{2}' alt='Get Microsoft Silverlight' style='border-style: none'/></a>",b=b.replace("{1}",d),b=b.replace("{2}",c+"161376")),b},Silverlight.getSilverlight=function(a){Silverlight.onGetSilverlight&&Silverlight.onGetSilverlight();var b="",c=(a+"").split(".");if(1<c.length){var d=parseInt(c[0]);b=isNaN(d)||2>d?"1.0":c[0]+"."+c[1]}var e="";b.match(/^\d+\056\d+$/)&&(e="&v="+b),Silverlight.followFWLink("149156"+e)},Silverlight.followFWLink=function(a){top.location=Silverlight.fwlinkRoot+(a+"")},Silverlight.HtmlAttributeEncode=function(a){var b,c="";if(null==a)return null;for(var d=0;d<a.length;d++)b=a.charCodeAt(d),96<b&&123>b||64<b&&91>b||43<b&&58>b&&47!=b||95==b?c+=String.fromCharCode(b):c=c+"&#"+b+";";return c},Silverlight.default_error_handler=function(a,b){var c,d=b.ErrorType;c=b.ErrorCode;var e="\nSilverlight error message     \n";e+="ErrorCode: "+c+"\n",e+="ErrorType: "+d+"       \n",e+="Message: "+b.ErrorMessage+"     \n","ParserError"==d?(e+="XamlFile: "+b.xamlFile+"     \n",e+="Line: "+b.lineNumber+"     \n",e+="Position: "+b.charPosition+"     \n"):"RuntimeError"==d&&(0!=b.lineNumber&&(e+="Line: "+b.lineNumber+"     \n",e+="Position: "+b.charPosition+"     \n"),e+="MethodName: "+b.methodName+"     \n"),WebCam(e)},Silverlight.__cleanup=function(){for(var a=Silverlight._silverlightCount-1;0<=a;a--)window["__slEvent"+a]=null;Silverlight._silverlightCount=0,window.removeEventListener?window.removeEventListener("unload",Silverlight.__cleanup,!1):window.detachEvent("onunload",Silverlight.__cleanup)},Silverlight.__getHandlerName=function(a){var b="";if("string"==typeof a)b=a;else if("function"==typeof a){0==Silverlight._silverlightCount&&(window.addEventListener?window.addEventListener("unload",Silverlight.__cleanup,!1):window.attachEvent("onunload",Silverlight.__cleanup));var c=Silverlight._silverlightCount++;b="__slEvent"+c,window[b]=a}else b=null;return b},Silverlight.onRequiredVersionAvailable=function(){},Silverlight.onRestartRequired=function(){},Silverlight.onUpgradeRequired=function(){},Silverlight.onInstallRequired=function(){},Silverlight.IsVersionAvailableOnError=function(a,b){var c=!1;try{8001!=b.ErrorCode||Silverlight.__installationEventFired?8002!=b.ErrorCode||Silverlight.__installationEventFired?5014==b.ErrorCode||2106==b.ErrorCode?Silverlight.__verifySilverlight2UpgradeSuccess(b.getHost())&&(c=!0):c=!0:(Silverlight.onRestartRequired(),Silverlight.__installationEventFired=!0):(Silverlight.onUpgradeRequired(),Silverlight.__installationEventFired=!0)}catch(a){}return c},Silverlight.IsVersionAvailableOnLoad=function(a){var b=!1;try{Silverlight.__verifySilverlight2UpgradeSuccess(a.getHost())&&(b=!0)}catch(a){}return b},Silverlight.__verifySilverlight2UpgradeSuccess=function(a){var b=!1,c="5.1.20125",d=null;try{a.IsVersionSupported(c+".99")?(d=Silverlight.onRequiredVersionAvailable,b=!0):a.IsVersionSupported(c+".0")?d=Silverlight.onRestartRequired:d=Silverlight.onUpgradeRequired,d&&!Silverlight.__installationEventFired&&(d(),Silverlight.__installationEventFired=!0)}catch(a){}return b};var facePhiUserControlSilver={GetPluginEnabled:function(){return privateFacePhiConfig.silverlightControl?privateFacePhiConfig.silverlightControl.SilverLightEnabled:null},OnExtractionFinish:function(a,b){var c=null,d=null;if(b.Images&&0<b.Images.length){d=[];for(var e,f=0;f<b.Images.length;f++)e=document.createElement("img"),e.src="data:image/jpeg;base64,"+b.Images[f],d[f]=e}b.Template&&(c=b.Template);var g={Template:c,Images:d};facePhiUserControl.events.ExtractionFinished(g)},OnLivenessError:function(a,b){var c=null;null!=b.LivenessErrorType&&(c=b.LivenessErrorType);var d={LivenessErrorType:c};facePhiUserControl.events.LivenessError(d)},OnLivenessErrorButtonClick:function(){facePhiUserControl.events.LivenessErrorButtonClick()},OnTimeoutErrorButtonClick:function(){facePhiUserControl.events.TimeoutErrorButtonClick()},OnExceptionCaptured:function(a,b){var c=null,d=null;null!=b.Message&&(c=b.Message),null!=b.ExceptionType&&(d=b.ExceptionType);var e={Message:c,ExceptionType:d};facePhiUserControl.events.ExceptionCaptured(e)},OnExtractionTimeout:function(){facePhiUserControl.events.ExtractionTimeout()},OnUserCancel:function(){facePhiUserControl.events.CancelledDetected()},OnModuleLoaded:function(){facePhiUserControl.events.UserControlLoaded()}},privateFacePhiConfig={silverlightControl:null,customInterface:null};FacePhiPluginLoaded=function(){var a=document.getElementById("facePhiUC");if(!a)return void console.log("It has not been found the html object with the ID: facePhiUC");try{privateFacePhiConfig.silverlightControl=a.content.FacePhiUserControl,privateFacePhiConfig.customInterface=a.content.FacePhiCustomInterface;try{privateFacePhiConfig.silverlightControl.addEventListener("ExtractionFinished",facePhiUserControlSilver.OnExtractionFinish),privateFacePhiConfig.silverlightControl.addEventListener("ExtractionTimeout",facePhiUserControlSilver.OnExtractionTimeout),privateFacePhiConfig.silverlightControl.addEventListener("TimeoutErrorButtonClick",facePhiUserControlSilver.OnTimeoutErrorButtonClick),privateFacePhiConfig.silverlightControl.addEventListener("LivenessError",facePhiUserControlSilver.OnLivenessError),privateFacePhiConfig.silverlightControl.addEventListener("LivenessErrorButtonClick",facePhiUserControlSilver.OnLivenessErrorButtonClick),privateFacePhiConfig.silverlightControl.addEventListener("CancelledDetected",facePhiUserControlSilver.OnUserCancel),privateFacePhiConfig.silverlightControl.addEventListener("ExceptionCaptured",facePhiUserControlSilver.OnExceptionCaptured)}catch(a){-1!=a.toString().indexOf("Error: Error calling method on NPObject")&&console.log("This browser is not compatible with FacePhi's application. Please, use any other browser")}privateFacePhiConfig.silverlightControl.ExtractionMode=facePhiUserControl.config.livenessMode==facePhiUserControlType.livenessMode.Blink&&facePhiUserControl.config.extractionMode==facePhiUserControlType.extractionMode.Authenticate?1:facePhiUserControl.config.extractionMode==facePhiUserControlType.extractionMode.Register?2:0,privateFacePhiConfig.silverlightControl.CropImage=facePhiUserControl.config.cropImage,privateFacePhiConfig.silverlightControl.ResizeFactor=facePhiUserControl.config.resizeFactor,privateFacePhiConfig.silverlightControl.CropFactor=facePhiUserControl.config.cropFactor,privateFacePhiConfig.silverlightControl.SceneTimeout=facePhiUserControl.config.sceneTimeout,FacePhiSetCustomInterfaceSLV(facePhiUserControl.config.custom,facePhiUserControl.config.culture)&&privateFacePhiConfig.silverlightControl.Initialize(),facePhiUserControlSilver.OnModuleLoaded()}catch(a){-1!=a.toString().indexOf("TypeError: Unable to get property 'FacePhiUserControl'")||-1!=a.toString().indexOf("privateFacePhiConfig.silverlightControl")?console.log("Please update to Silverlight 5"):console.log(a)}},FacePhiSetCustomInterfaceSLV=function(a,b){return"en"===b?(privateFacePhiConfig.customInterface.En.Start=a.en.start,privateFacePhiConfig.customInterface.En.Cancel=a.en.cancel,privateFacePhiConfig.customInterface.En.Next=a.en.next,privateFacePhiConfig.customInterface.En.Improve=a.en.improve,privateFacePhiConfig.customInterface.En.Finish=a.en.finish,privateFacePhiConfig.customInterface.En.Tips=a.en.tips,privateFacePhiConfig.customInterface.En.ImproveRegister=a.en.improveRegister,privateFacePhiConfig.customInterface.En.RegisterQuality=a.en.registerQuality,privateFacePhiConfig.customInterface.En.RegisterFinish=a.en.registerFinish,privateFacePhiConfig.customInterface.En.Register=a.en.register,privateFacePhiConfig.customInterface.En.Tip1=a.en.tip1,privateFacePhiConfig.customInterface.En.Tip2=a.en.tip2,privateFacePhiConfig.customInterface.En.Tip3=a.en.tip3,privateFacePhiConfig.customInterface.En.Tip4=a.en.tip4,privateFacePhiConfig.customInterface.En.Tip5=a.en.tip5,privateFacePhiConfig.customInterface.En.Excellent=a.en.excellent,privateFacePhiConfig.customInterface.En.Good=a.en.good,privateFacePhiConfig.customInterface.En.Improvable=a.en.improvable,privateFacePhiConfig.customInterface.En.ImproveLink=a.en.improveLink,privateFacePhiConfig.customInterface.En.WarningFaceOut=a.en.warningFaceOut,privateFacePhiConfig.customInterface.En.WarningFaceTooFar=a.en.warningFaceTooFar,privateFacePhiConfig.customInterface.En.Blink=a.en.blink,privateFacePhiConfig.customInterface.En.PhotoDetected=a.en.photoDetected,privateFacePhiConfig.customInterface.En.FaceNotDetected=a.en.faceNotDetected,privateFacePhiConfig.customInterface.En.LivenessError=a.en.livenessError,privateFacePhiConfig.customInterface.En.LivenessErrorGlasses=a.en.livenessErrorGlasses,privateFacePhiConfig.customInterface.En.LivenessErrorDark=a.en.livenessErrorDark,privateFacePhiConfig.customInterface.En.LivenessErrorPerformance=a.en.livenessErrorPerformance,privateFacePhiConfig.customInterface.En.Timeout=a.en.timeout,privateFacePhiConfig.customInterface.En.Retry=a.en.retry):(privateFacePhiConfig.customInterface.Es.Start=a.es.start,privateFacePhiConfig.customInterface.Es.Cancel=a.es.cancel,privateFacePhiConfig.customInterface.Es.Next=a.es.next,privateFacePhiConfig.customInterface.Es.Improve=a.es.improve,privateFacePhiConfig.customInterface.Es.Finish=a.es.finish,privateFacePhiConfig.customInterface.Es.Tips=a.es.tips,privateFacePhiConfig.customInterface.Es.ImproveRegister=a.es.improveRegister,privateFacePhiConfig.customInterface.Es.RegisterQuality=a.es.registerQuality,privateFacePhiConfig.customInterface.Es.RegisterFinish=a.es.registerFinish,privateFacePhiConfig.customInterface.Es.Register=a.es.register,privateFacePhiConfig.customInterface.Es.Tip1=a.es.tip1,privateFacePhiConfig.customInterface.Es.Tip2=a.es.tip2,privateFacePhiConfig.customInterface.Es.Tip3=a.es.tip3,privateFacePhiConfig.customInterface.Es.Tip4=a.es.tip4,privateFacePhiConfig.customInterface.Es.Tip5=a.es.tip5,privateFacePhiConfig.customInterface.Es.Excellent=a.es.excellent,privateFacePhiConfig.customInterface.Es.Good=a.es.good,privateFacePhiConfig.customInterface.Es.Improvable=a.es.improvable,privateFacePhiConfig.customInterface.Es.ImproveLink=a.es.improveLink,privateFacePhiConfig.customInterface.Es.WarningFaceOut=a.es.warningFaceOut,privateFacePhiConfig.customInterface.Es.WarningFaceTooFar=a.es.warningFaceTooFar,privateFacePhiConfig.customInterface.Es.Blink=a.es.blink,privateFacePhiConfig.customInterface.Es.PhotoDetected=a.es.photoDetected,privateFacePhiConfig.customInterface.Es.FaceNotDetected=a.es.faceNotDetected,privateFacePhiConfig.customInterface.Es.LivenessError=a.es.livenessError,privateFacePhiConfig.customInterface.Es.LivenessErrorGlasses=a.es.livenessErrorGlasses,privateFacePhiConfig.customInterface.Es.LivenessErrorDark=a.es.livenessErrorDark,privateFacePhiConfig.customInterface.Es.LivenessErrorPerformance=a.es.livenessErrorPerformance,privateFacePhiConfig.customInterface.Es.Timeout=a.es.timeout,privateFacePhiConfig.customInterface.Es.Retry=a.es.retry),privateFacePhiConfig.customInterface.Color.LeftButtonColor=a.color.leftButtonColor,privateFacePhiConfig.customInterface.Color.RightButtonColor=a.color.rightButtonColor,privateFacePhiConfig.customInterface.Color.LeftButtonTextColor=a.color.leftButtonTextColor,privateFacePhiConfig.customInterface.Color.RightButtonTextColor=a.color.rightButtonTextColor,privateFacePhiConfig.customInterface.Font=a.font,privateFacePhiConfig.customInterface.ShowLogo=a.showLogo,!0},FacePhiOnSilverlightError=function(a,b){var c,d="",e=null!=a&&0!=a?a.getHost().Source:"";"ImageError"==b.ErrorType||"MediaError"==b.ErrorType||(d+=e+"\n",d+="Code: "+b.ErrorCode+"    \n",d+="Message: "+b.ErrorMessage+"     \n","ParserError"==b.ErrorType?(d+="File: "+b.xamlFile+"     \n",d+="Line: "+b.lineNumber+"     \n",d+="Position: "+b.charPosition+"     \n"):"RuntimeError"==b.ErrorType&&(0!=b.lineNumber&&(d+="Line: "+b.lineNumber+"     \n",d+="Position: "+b.charPosition+"     \n"),d+="MethodName: "+b.methodName+"     \n"),c={Message:d,ExceptionType:b.ErrorType},facePhiUserControl.events.ExceptionCaptured(c))},FacePhiShowSilver=function(a){var b=FacePhiGetFolderPath("FPhi.UC.Silverlight.js"),c=FacePhiGetFolderPath("FPhiUserControl.js"),d="<a href='{1}' style='text-decoration: none;'><img src='{2}' alt='{3}' style='border-style: none'/></a>";d=d.replace("{1}","http://go.microsoft.com/fwlink/?LinkID=149156&v=5.0.60401.0"),d=d.replace("{2}","es"==facePhiUserControl.config.culture?c+"FPhi.UC.Resources/Images/instalar.png":c+"FPhi.UC.Resources/Images/install.png"),d=d.replace("{3}","Get Microsoft Silverlight");var e=FacePhiLoadNavigator(),f=Silverlight.createObject(b+"FPhiUC.xap",null,"facePhiUC",{width:facePhiUserControl.config.width+"px",height:facePhiUserControl.config.width+"px",background:"white",alt:d,version:"5.0.60401.0"},{onError:FacePhiOnSilverlightError,onLoad:FacePhiPluginLoaded},"Width="+facePhiUserControl.config.width+",Height="+facePhiUserControl.config.width+",Culture="+facePhiUserControl.config.culture+",Version="+e.navigatorVersion,"context");a.innerHTML=f};